mmcore.SetCookie('mmid','-2065950475|BwAAAArGaWMHOQwAAA==',365,1);mmcore.SetCookie('pd','-552273807|DgAAAAoBQsZpYwc5DKWSFGkCABEFG5egltJIDwAAALlGuBiFltJIAAAAABkAAAD/////ABF3d3cuZ29vZ2xlLmNvbS5icgQ5DAIAAAAAAAAAAAAAGVQAAP//////////BgA4KgAAALcNXBM5DAD/////ATkMOQz//wYAAAEAAAAAAd9sAAB2rAAAAA85AAAAtGE0TDkMAP////8BOQw5DP//AgAAAQAAAAABg48AAFrlAAAATjsAAABSNU52OQwA/////wE5DDkM//8CAAABAAAAAAFilAAAuuoAAADQPAAAAGkQKFs5DAD/////ATkMOQz//wIAAAEAAAAAAaqXAACe8AAAARlUAAABAAAA4DkAAAClrf8VOQwA/////wE5DDkM//8CAAABAAAAAAFikQAAV+UAAADEPAAAAEDFDMA5DAD/////ATkMOQz//wIAAAEAAAAAAZiXAAB28AAAAAAAAAFF',365);mmcore.SetCookie('srv','nycvwcgus05',365);(function(){if(typeof(mmcore.GenInfo)!='object')mmcore.GenInfo={};mmcore.EH=function(e){var s=e.message+'\r\n';if(!window.mm_error)window.mm_error=s;else window.mm_error+=s;};
mmcore.GenInfo['SB_Cross_MC']={'element1':'Default'};
try{
(function(ls) {
    if (!ls) return mmcore.EH({
        message: 'localStorage is needed for mmcore.SendUniqueAttribute'
    });
    var storageName = 'MM_ActionAttributes',
        existing = ls.getItem(storageName) || '',
        now = (new Date().getTime()),
        expiration = 60 * 60 * 24 * 60 * 1000,
        existingJSON;

    try {
        existingJSON = JSON.parse(existing);
    } catch (e) {
        existingJSON = {};
    }

    for (var action in existingJSON) {
        for (var attribute in existingJSON[action]) {
            if (now - existingJSON[action][attribute] > expiration) {
                delete existingJSON[action][attribute];
            }
        }
    }
    ls.setItem(storageName, JSON.stringify(existingJSON));

    mmcore.SendUniqueAttribute = function(campaign, name, value, attribute) {
        var campaign = campaign.replace(/\W/g, ''),
            key = campaign + '_' + name,
            attribute = attribute || '',
            value = value || 1;
        if (existingJSON[key] && existingJSON[key][attribute]) return;
        mmcore.$Action(name, value, attribute);
        existingJSON[key] = existingJSON[key] || {};
        existingJSON[key][attribute] = (new Date().getTime());
        ls.setItem(storageName, JSON.stringify(existingJSON));
    }
})(window.localStorage);
}catch(err){mmcore.EH(err);}
try{
mmcore.ForeSee = function (campaignName) {  
    var GI = mmcore.GenInfo[campaignName],  
        output = [],  
        found = false;  
    if (!GI) return mmcore.EH({  
        message: 'mmcore.ForeSee No GenInfo found for campaign: ' + campaignName  
    });  
    for (var key in GI) output.push(key + ':' + GI[key]);  
    var campaignInfo = output.join('|').toLowerCase();  
    function sendForeSee() {  
        FSR.CPPS.set(campaignName, campaignName + '=' + campaignInfo);  
    }  
    if (window.FSR && window.FSR.CPPS && typeof window.FSR.CPPS.set == 'function') {  
        sendForeSee();  
    } else {  
        var waitForFS = setInterval(function () {  
            if (!window.FSR || !window.FSR.CPPS || typeof window.FSR.CPPS.set !== 'function') return;  
            found = true;  
            clearInterval(waitForFS);  
            sendForeSee();  
        }, 50);  
        setTimeout(function () {  
            if (!found) {  
                clearInterval(waitForFS);  
                mmcore.EH({  
                    message: 'mmcore.ForeSee: no foresee function found'  
                });  
            }  
        }, 5000);  
    }  
}
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function(){

  window.Metrics = function(actionName, isDebugging) {
    this.actionName = actionName;
    this.isDebugging = arguments.length < 2 ? false : isDebugging;
  }

  window.Metrics.prototype.action = function(attribute, type) {
    var that = this;
    type = (arguments.length < 2) ? 'default' : type;
    attribute = (arguments.length < 1) ? '' : attribute;
    switch(type) {
      case 'withoutRefresh':
        return function() {
          if(that.isDebugging) {
            that.debug(attribute);
          }
          mmcore._async = true;
          mmcore.$Action(that.actionName, '1', attribute);
          mmcore.SetPageID('.');
          mmcore.CGRequest();
        };
      default:
        return function() {
          if(that.isDebugging) {
            that.debug(attribute);
          }
          mmcore.$Action(that.actionName, '1', attribute);
        };
    }
  };

  window.Metrics.prototype.debug = function(attribute) {
    console.log('Action ' + this.actionName + ' com attributo "' + attribute + '" foi registrada');
  };
  
  (function(){
         var sessionCount = mmcore.GetCookie('sessionCount', 1),
                 sessionLogged = mmcore.GetCookie('sessionLogged', 1);
         if (sessionLogged) return //console.log("Already incremented the session counter");
         // session cookie set
         mmcore.SetCookie('sessionLogged', 1, 0, 1);
         // set 60 day cookie containing currentsession count
         mmcore.SetCookie('sessionCount', ++sessionCount, 60, 1);
         //console.log("This is session number: " + mmcore.GetCookie('sessionCount', 1));
  })();

  
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (window.location.href.indexOf('carrinho.submarino.com.br/checkout/suba/payment/subaPayment.xhtml') >= 0 || window.location.href.indexOf('carrinho.submarino.com.br/checkout/choosePayment.xhtml') >= 0 || window.location.href.indexOf('carrinho.submarino.com.br/checkout/prepareFreightOptions.xhtml') >= 0){
      mmcore._async = true;
      mmcore.SetPageID('SB_PagamentoTSAL');
      mmcore.CGRequest();
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
var AA=mmcore._IntegrationFactory({name:"Adobe Analytics",validate:function(e){return e.campaign?!e.parameters||!e.parameters.length?"No parameters.":!0:"No campaign."},check:function(e){return window[e.sVariable||"s"]&&window[e.sVariable||"s"].hasOwnProperty("t")},exec:function(e){e.parameters.pop||(e.parameters=[e.parameters]);var t=window[e.sVariable||"s"];t.linkTrackVars=e.parameters.join(",");for(var n=0;n<e.parameters.length;n++)t[e.parameters[n]]=e.campaignInfo;return t.tl(!0,"o","Maxymiser "+(e.isProduction?"Prod":"Sand")),!0},_version:"1.0.1"})
}catch(err){mmcore.EH(err);}
try{
mmcore._IntegrationFactory=mmcore._IntegrationFactory||function(e){var t=mmcore._IntegrationFactory,n=function(e){mmcore.EH({message:"["+(r?r:"Integration")+"] "+e})};if(!e||!e.name)return n("Missing build parameters.");var r=e.name,i=e.validate,s=e.check,o=e.timeout||1e4,u=e.interval||50,a=e.exec,f=e.defaults||{};if(!r)return n("Invalid integration build, name is required.");if(!a)return n("Invalid integration build, exec is required.");t._version="1.0.6";if(t[r])return t[r];var l=function(r){r=typeof r=="object"?r:{};for(var l in this.defaults)r.hasOwnProperty(l)||(r[l]=this.defaults[l]);for(var c in f)r.hasOwnProperty(c)||(r[c]=f[c]);r._verifyVersion=function(e){var n=t._version.match(/\d+/g),r=e.match(/\d+/g),i=Math.max(n.length,r.length);for(var s=0;s<i;s++)if(+n[s]<+r[s])return!1;return!0};if(r.campaign){var h=mmcore.GenInfo[r.campaign];if(r.redirect)if(h){for(var p in h);if(h[p].toLowerCase()!="default")return mmcore.SetCookie("mm_redir_"+r.campaign,JSON.stringify(h),0,1)}else try{h=JSON.parse(mmcore.GetCookie("mm_redir_"+r.campaign,1))}catch(d){}if(!h)return n("Campaign not found: "+r.campaign);var v=[],m=[],g=[];for(var y in h){var b=h[y];m.push(y),g.push(b),v.push(y+":"+b)}r.campaignInfo=v=r.campaign+"="+v.join("|"),r.elements=m,r.variants=g}r.isProduction=function(){var e=["cfgid","opc.enabled","opc.vis","pt.enabled","un"];for(var t=0;t<e.length;t++)if(!!mmcore.GetParam(e[t]))return!1;return!0}();if(i){var w=i.call(e,r);if(w!==!0)return n("Data validation failed: "+w)}var E=function(){var t=a.call(e,r);t!==!0&&n("Execution failed: "+t)};if(s)if(s.call(e,r))E();else{var S=!1,x=setInterval(function(){s.call(e,r)&&(clearInterval(x),S=!0,E())},r.interval||u);mmcore.AddDocLoadHandler(function(){setTimeout(function(){if(S)return;clearInterval(x);var e="Integration timed out. Checks not passed.";"function"==typeof r.fail&&r.fail(e),n(e)},r.timeout||o)})}else E()};return l._version=e._version,l.defaults={},mmcore._IntegrationFactory[r]=l,l},mmcore.Integrate=function(e,t){var n=mmcore._IntegrationFactory[e];n?n.call(n,t):mmcore.EH({message:"Integration not installed: "+e})}
}catch(err){mmcore.EH(err);}
try{
(function () {
//Verifica se o usuário está acessando em ambiente de Produção
if (typeof mmcore == "object" && mmcore.GetCookie('cfgID') != '1'){

    // config
    var separators = [':', '=', ';', '|', ',','_'];
    var lowercaseCampaigns = false;
    var lowercaseElements = false;
    var lowercaseVariants = true;

  // code
    var mmuse = '';
    for (var c in mmcore.GenInfo) {
        // campaigns
        var el = [], vr = [];
        for (var e in mmcore.GenInfo[c]) {
            // element
            v = mmcore.GenInfo[c][e],

            // lowercase
            campaign =  c;
            element =  e;
            variant =  v;
            
          // the campaign payload
            el.push(element);
            vr.push(variant);
        }
        mmuse += mmuse.length > 0 ? separators[3] : '';
        if (el.length > 1 && vr.length > 1){
            var mmelement = '';
            // Concatena elemento e variação na mesma linha
            for (var i = 0; i < el.length; i++){
                mmelement += el[i] + separators[0] + vr[i];
                mmelement += i < el.length - 1 ? separators[5] : '';
            }
            mmuse += campaign + separators[4] + mmelement;
        } else {
            mmuse += campaign + separators[4] + el[0] + separators[0] + vr[0];
        }
      // campaigns separator if necessary
    }


// Tratamento das informações dos testes estão em execução
    var testes = mmuse.split('|');
	var listaExclusao = ["MC", "QA", "Dev", "Old", "Gap", "T0"];

 // Ordenando testes conforme nome da campanha
    testes.sort(function(a, b){
        a = a.split(',')[0].split('_')[2];
        b = b.split(',')[0].split('_')[2];
        if (typeof a === 'undefined' || isNaN(a)) {
            a = 100;
        } else if (typeof b === 'undefined' || isNaN(b)) {
            b = 100;
        } else {
            a = parseInt(a)
            b = parseInt(b);
        }  
        return a-b;
    });

 // Excluindo casos específicos
    for(i=0;i<testes.length;i++){
        for(k=0;k<listaExclusao.length;k++){
            var lista = true;
            if (testes[i].indexOf(listaExclusao[k]) >= 0){
                lista = false;
                break;
            }
        }
        // Imprime os testes executados no console do navegador.
        /*if (lista){
            var testesColetados = 'Teste '+ i +' : '+ testes[i];
            console.log(testesColetados);
        }*/
        if (lista){
            var testesColetados = /*'Teste '+ i +' : '+*/ testes[i];
			if(mmcore.GetCookie('Maxymiser4See', true).indexOf(testes[i]) == -1){
				mmcore.SetCookie('Maxymiser4See',mmcore.GetCookie('Maxymiser4See', true) + testesColetados + " | ", 0, true);
				//console.log(mmcore.GetCookie('Maxymiser4See', true))
			}			
        }
    } 

 //Como utilizar
 /*Remover o "console.log" e tratar as informações geradas no código acima para a ferramenta.*/
}    
})();
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /www\.submarino\.com\.br\/(.*)/,
          search : /busca\.submarino\.com\.br\/busca\.php(.*)/,
          comparison : /comparacao\.submarino\.com\.br\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {
  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }
  
  if (getCookie("acomChannel") != "TSAL" && getCookie("acomChannel") != "TELEVENDAS") {   
    if( window.location.href.indexOf('submarino') >= 0){
      if( crmWA_dataLayer[0].objPageName.indexOf(':Obrigado') >= 0 ){
        mmcore._async = true;
        mmcore.SetPageID('SB_ConfirmacaoTSAL');
        mmcore.CGRequest();
      }
    }
  }

});




/*
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_ConfirmacaoTSAL";

  function contains(url) {
    var page,
        pages = {
          confirmationOne : /carrinho\.submarino\.com\.br\/checkout\/suba\/finalizePurchase\.xhtml/,
          confirmationTwo : /checkout\/suba\/revisao\/subaBasketRevisao/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

*/
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_BuscaTSAL";

  function contains(url) {
    var page,
        pages = {
          search : /busca\.submarino\.com\.br\/busca\.php(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_HomeTSAL";

  function contains(url) {
    var page,
        pages = {
          home : /www\.submarino\.com\.br\/$/,
          qa : /www\.submarino\.com\.br\/(\?\w{3,4}\d{1,2}\w?)$/,
          opn : /www\.submarino\.com\.br\/\?opn=(\S*)$/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_CheckoutTSAL";

  function contains(url) {
    var page,
        pages = {
          shoppingCart : /carrinho\.submarino\.com\.br\/checkout\//,
          newCart : /sacola\.submarino\.com\.br\//,
          customerCart: /carrinho\.submarino\.com\.br\/CustomerWeb\/pages\/CustomerRegister\/email\/[^@]+@[^@]+\//,
          customerCartError: /carrinho\.submarino\.com\.br\/CustomerWeb\/\?wicket/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return page;
      }
    }
    return "other";
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }
  
  function findCheckout() {
    if(jQuery(".headerCh").length) {
    	setPage(page);
    }
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    switch (contains(url)) {
      case "customerCart":
      case "customerCartError":
      findCheckout();
      break;
      case "shoppingCart":
      case "newCart":
      setPage(page);
      break;
      default:
      break;
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_ProdutoTSAL";

  function contains(url) {
    var page,
        pages = {
          product : /www\.submarino\.com\.br\/produto\/(?!garantia)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
      if( $('.box-partners').length > 0 ){
        ClickTaleEvent('SB_ProdMktPlace');
      }	
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_Cat_RoupaFemTSAL";

  function contains(url) {
    var page,
        pages = {
          femaleClothes : /\/moda-calcados-e-acessorios\/roupas\/feminino/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SBM_CheckoutTSAL";

  function contains(url) {
    var page,
        pages = {
          mobileCheckout : /m\.submarino\.com\.br\/checkout/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {
  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }
  
  if (getCookie("acomChannel") != "TSAL" && getCookie("acomChannel") != "TELEVENDAS") {   
    if( window.location.href.indexOf('shoptime') >= 0){
      if( crmWA_dataLayer[0].objPageName.indexOf(':Obrigado') >= 0 ){
        mmcore._async = true;
        mmcore.SetPageID('SH_ConfirmacaoTSAL');
        mmcore.CGRequest();
      }
    }
  }

});

/*
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_ConfirmacaoTSAL";

  function contains(url) {
    var page,
        pages = {
          confirmation : /carrinho\.shoptime\.com\.br\/checkout\/basketconfirmacao\/basketConfirmacao\.xhtml/,
          oneClickConfirmation : /carrinho\.shoptime\.com\.br\/checkout\/oneclickbuy\/oneClickBuy\.xhtml/,
          mCheckout : /m\.shoptime\.com\.br\/checkout\/(.*)\/receipt/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
      console.log('aaa');
    }

  }
});
*/
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /www\.shoptime\.com\.br\/(.*)/,
          search : /busca\.shoptime\.com\.br\/busca\.php(.*)/,
          comparison : /comparacao\.shoptime\.com\.br\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_ProdutoTSAL";
  function contains(url) {
    var page,
        pages = {
          product : /www\.americanas\.com\.br\/produto\/(?!garantia)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
      if( $('.box-partners').length > 0 ){
        ClickTaleEvent('AM_ProdMktPlace');
      }
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /www\.americanas\.com\.br\/(.*)/,
          search : /busca\.americanas\.com\.br\/busca\.php(.*)/,
          comparison : /comparacao\.americanas\.com\.br\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_HomeTSAL";

  function contains(url) {
    var page,
        pages = {
          home : /www\.americanas\.com\.br\/$/,
          qa : /www\.americanas\.com\.br\/(\?\w{3,4}\d{1,2}\w?)$/,
          opn : /www\.americanas\.com\.br\/\?opn=(\S*)$/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {
  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }
  
  if (getCookie("acomChannel") != "TSAL" && getCookie("acomChannel") != "TELEVENDAS") {   
    if( window.location.href.indexOf('americanas') >= 0){
      if( crmWA_dataLayer[0].objPageName.indexOf(':Obrigado') >= 0 ){
        mmcore._async = true;
        mmcore.SetPageID('AM_ConfirmacaoTSAL');
        mmcore.CGRequest();
      }
    }
  }

});


/*
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_ConfirmacaoTSAL";

  function contains(url) {
    var page,
        pages = {
          confirmationOne : /carrinho\.americanas\.com\.br\/checkout\/basketconfirmacao\/basketConfirmacao\.xhtml/,
          confirmationBoleto : /carrinho\.americanas\.com\.br\/checkout\/revisao\/basketRevisaoBoleto\.xhtml/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
*/
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SBM_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /m\.submarino\.com\.br\/(.*)/,
          products : /m\.submarino\.com\.br\/products(.*)/,
          categories : /m\.submarino\.com\.br\/categories(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_CheckoutTSAL";
  function contains(url) {
    var page,
        pages = {
          checkout : /carrinho\.americanas\.com\.br\/(.*)/,
          newCheckout : /sacola\.americanas\.com\.br\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_PageWowTSAL";
  function contains(url) {
    var page,
        pages = {
          wow : /submarino\.com\.br\/oferta24horas\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_LoginTSAL";
  function contains(url) {
    var page,
        pages = {
          login : /carrinho\.submarino\.com\.br\/CustomerWeb\/pages\/Login\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_GarantiaTSAL";
  function contains(url) {
    var page,
        pages = {
          warranty : /submarino\.com\.br\/produto\/garantia\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_GarantiaTSAL";
  function contains(url) {
    var page,
        pages = {
          warranty : /shoptime\.com\.br\/produto\/garantia\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_BuscaTSAL";

  function contains(url) {
    var page,
        pages = {
          search : /busca\.americanas\.com\.br\/busca\.php(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_ComparadorTSAL";
  function contains(url) {
    var page,
        pages = {
          comparison : /comparacao\.americanas\.com\.br\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_BuscaTSAL";

  function contains(url) {
    var page,
        pages = {
          search : /busca\.shoptime\.com\.br\/busca\.php(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_HomeTSAL";

  function contains(url) {
    var page,
        pages = {
          home : /www\.shoptime\.com\.br\/$/,
          qa : /www\.shoptime\.com\.br\/(\?\w{3,4}\d{1,2}\w?)$/,
          opn : /www\.shoptime\.com\.br\/\?opn=(\S*)$/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_FinanceTSAL";

  function contains(url) {
    var page,
        pages = {
          finance : /carrinho\.submarino\.com\.br\/finance\/xhtml\/proposal\/proposalStep2\.xhtml/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_ProdutoTSAL";
  function contains(url) {
    var page,
        pages = {
          product : /www\.shoptime\.com\.br\/produto\/(?!garantia)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
      if( $('.box-partners').length > 0 ){
        ClickTaleEvent('SH_ProdMktPlace');
      }	
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_DptoTSAL";
      
  function contains(url) {
    var page,
        pages = {
          dpto : /www\.shoptime\.com\.br\/loja\/(?!235632\/eletroportateis)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_HomeTVTSAL";

  function contains(url) {
    var page,
        pages = {
          dpto : /www\.shoptime\.com\.br\/ofertasdatv\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_CheckoutTSAL";

  function contains(url) {
    var page,
        pages = {
          checkout : /carrinho\.shoptime\.com\.br\/checkout/,
          login : /carrinho\.shoptime\.com\.br\/CustomerWeb/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /www\.soubarato\.com\.br\/(.*)/,
          search : /busca\.soubarato\.com\.br\/busca\.php(.*)/,
          faq : /faq\.soubarato\.com\.br\/(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {
  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }
  
  if (getCookie("acomChannel") != "TSAL" && getCookie("acomChannel") != "TELEVENDAS") {   
    if( window.location.href.indexOf('soubarato') >= 0){
      if( crmWA_dataLayer[0].objPageName.indexOf(':Obrigado') >= 0 ){
        mmcore._async = true;
        mmcore.SetPageID('SO_ConfirmacaoTSAL');
        mmcore.CGRequest();
      }
    }
  }
});

/*
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_ConfirmacaoTSAL";

  function contains(url) {
    var page,
        pages = {
          confirmationOne : /carrinho\.soubarato\.com\.br\/checkout\/basketconfirmacao\/basketConfirmacao\.xhtml/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

*/
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_CheckoutTSAL";
  function contains(url) {
    var page,
        pages = {
          checkout : /carrinho\.soubarato\.com\.br\/checkout\//,
          customer : /carrinho\.soubarato\.com\.br\/CustomerWeb\/pages\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_LoginTSAL";
  function contains(url) {
    var page,
        pages = {
          login : /carrinho\.soubarato\.com\.br\/CustomerWeb\/pages\/Login/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_PagamentoTSAL";
  function contains(url) {
    var page,
        pages = {
          normal : /carrinho\.shoptime\.com\.br\/checkout\/payment\/payment\.xhtml/,
          oneClick : /carrinho\.shoptime\.com\.br\/checkout\/oneclickbuy/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_RecemChegadoTSAL";
  function contains(url) {
    var page,
        pages = {
          newOffers : /soubarato\.com\.br\/recem-chegados\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_PainelTSAL";
  function contains(url) {
    var page,
        pages = {
          controlPanel : /carrinho\.soubarato\.com\.br\/ControlPanelWeb\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SH_PainelTSAL";
  function contains(url) {
    var page,
        pages = {
          controlPanel : /carrinho\.shoptime\.com\.br\/ControlPanelWeb\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AM_ParceirosTSAL";
  function contains(url) {
    var page,
        pages = {
          partners : /www\.americanas\.com\.br\/parceiros\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_ProdutoTSAL";
  function contains(url) {
    var page,
        pages = {
          product : /www\.soubarato\.com\.br\/produto\/(?!garantia)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_CartuchoTSAL";
  function contains(url) {
    var page,
        pages = {
          search : /submarino\.com\.br\/busca-por-cartuchos/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_ChatTSAL";
  function contains(url) {
    var page,
        pages = {
          chatWindow : /189\.89\.100\.31/,
          chat : /chatonline\.submarino\.com\.br/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_PainelTSAL";
  function contains(url) {
    var page,
        pages = {
          controlPanel : /carrinho\.submarino\.com\.br\/ControlPanelWeb\//,
          customerWeb : /carrinho\.submarino\.com\.br\/CustomerWeb\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SB_ServicosTSAL";
  function contains(url) {
    var page,
        pages = {
          services : /servicos\.submarino\.com\.br\//
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SO_HomeTSAL";

  function contains(url) {
    var page,
        pages = {
          home : /www\.soubarato\.com\.br\/$/,
          qa : /www\.soubarato\.com\.br\/(\?\w{3,4}\d{1,2}\w?)$/,
          opn : /www\.soubarato\.com\.br\/\?opn=(\S*)$/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AMM_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /m\.americanas\.com\.br\/(.*)/,
          products : /m\.americanas\.com\.br\/products(.*)/,
          categories : /m\.americanas\.com\.br\/categories(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "AMM_CheckoutTSAL";

  function contains(url) {
    var page,
        pages = {
          mobileCheckout : /m\.americanas\.com\.br\/checkout/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SHM_CatalogoTSAL";
  function contains(url) {
    var page,
        pages = {
          catalog : /m\.shoptime\.com\.br\/(.*)/,
          products : /m\.shoptime\.com\.br\/products(.*)/,
          categories : /m\.shoptime\.com\.br\/categories(.*)/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      page = "SHM_CheckoutTSAL";

  function contains(url) {
    var page,
        pages = {
          mobileCheckout : /m\.shoptime\.com\.br\/checkout/
        };

    for (page in pages) {
      if (pages.hasOwnProperty(page) && pages[page].test(url)) {
        return true;
      }
    }
    return false;
  }

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  function setPage(page) {
      mmcore._async = true;
      mmcore.SetPageID(page);
      mmcore.CGRequest();
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if (contains(url)) {
      setPage(page);
    }

  }
});

}catch(err){mmcore.EH(err);}
try{

mmcore.AddDocLoadHandler(function () {
  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }
  
  if (getCookie("acomChannel") != "TSAL" && getCookie("acomChannel") != "TELEVENDAS") {   
    if( window.location.href.indexOf('submarino') >= 0){
      if( crmWA_dataLayer[0].objPageName == "Carrinho" ){	
        console.log('rodei');
        mmcore._async = true;
        mmcore.SetPageID('SB_SacolaTSAL');
        mmcore.CGRequest();
      }
    }
  }

});

}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function () {

  var url = location.href,
      regexToken = /(.*)\?epar=em_at_ts_00_pedido_recebido/,
      emailToken = (url.match(regexToken)||[,false])[1];

  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }

  if (getCookie("acomChannel") !== "TSAL" && getCookie("acomChannel") !== "TELEVENDAS") {

    if( emailToken ){
      mmcore.SetPersCriterion("Email_RecPedido", emailToken);
      mmcore._async = true;
      mmcore.SetPageID("SB_Email_1");
      mmcore.CGRequest();
    }

  }
});
}catch(err){mmcore.EH(err);}
try{
mmcore.AddDocLoadHandler(function(){
  var getUrl = function (url) {
    var pages = {
      login: /sacola\.submarino\.com\.br\/(.+)?\#\/login/,
      guest: /sacola\.submarino\.com\.br\/(.+)?\#\/guest\/create/,
      customer: /sacola\.submarino\.com\.br\/(.+)?\#\/customer\/create/,
      customerCart: /carrinho\.submarino\.com\.br\/CustomerWeb\/pages\/CustomerRegister\/email\/[^@]+@[^@]+\//,
      customerCartError: /carrinho\.submarino\.com\.br\/CustomerWeb\/\?wicket/
    },
        page;
    
    for (page in pages) {
      if (pages.hasOwnProperty(page) && url.match(pages[page])) {
        return page;
      }
    }
    //throw new Error("Page doesn't exist");
    return "other";
  },
  page = window.location.href;
  
  function setPage(page) {
    mmcore._async = true;
    mmcore.SetPageID(page);
    mmcore.CGRequest();
  }
  
  switch(getUrl(page)) {
    case "login":
    case "guest":
    case "customer":
      //console.log("sacola");
      mmcore.SetPersCriterion('LocalCadastro','Sacola');
      setPage("SB_PageT1");
    break;
    case "customerCart":
    case "customerCartError":
      //console.log("carrinho");
      mmcore.SetPersCriterion('LocalCadastro','Carrinho');
      setPage("SB_PageT1");
    break;
    default:
    break;
  
  }
  
  
  
});
}catch(err){mmcore.EH(err);}
try{
function Hash(a){this._hashes=a}Hash.prototype.getHash=function(){var a,b=this._hashes;for(a in b)if(b.hasOwnProperty(a)&&b[a]===location.hash)return a;return""};Hash.prototype.hasHash=function(a){return this.getHash()===a};

function getCookie(name) {
		var re = new RegExp(name + "=([^;]+)");
		var value = re.exec(document.cookie);
		return (value != null) ? unescape(value[1]) : null;
	}

var hashes = new Hash({
        confirma : "#/receipt"
      });

 var changeHash = function(event) {
   if (hashes.getHash()) {
    if (getCookie("acomChannel") != "TSAL" && getCookie("acomChannel") != "TELEVENDAS") {    
        mmcore._async = true;
        mmcore.SetPageID('AM_ConfirmacaoTSAL');
        mmcore.CGRequest();
    }
   }
 }

if ("onhashchange" in window) {
	window.addEventListener("hashchange", changeHash, false);
}
}catch(err){mmcore.EH(err);}
if(typeof mmcore._callback=='object'&&typeof mmcore._callback[1]=='function'){try{mmcore._callback[1]();}catch(err){mmcore.EH(err);}
finally{mmcore._callback[1]=null;}}
})();